(()=>{"use strict";async function e(e,t="metric"){try{const{data:a,data2:n}=await async function(e,t){try{const a=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),n=await a.json(),c=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.coord.lat}&lon=${n.coord.lon}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`);return{data:n,data2:await c.json()}}catch(e){return void console.log("City not found!")}}(e,t);console.log(n);const c=a.name,o=Math.ceil(a.main.temp),i=a.weather[0].main,r=a.weather[0].icon,d=a.weather[0].description,l=Math.ceil(a.main.feels_like),s=a.main.humidity,u=Math.ceil(a.wind.speed);let m=[];for(let e=1;e<8;e++){const t=n.daily[e],a={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};m.push(a)}return{cityName:c,temperature:o,weather:i,icon:r,weatherDesc:d,feelsLike:l,humidity:s,windSpeed:u,scale:t,dailyForecast:m}}catch(e){return void console.log("Not found")}}function t(e){console.log(e);const t=document.querySelector(".weather-info"),a=document.querySelector(".weather-icon"),n=document.querySelector(".city-name"),c=document.querySelector(".temperature-value"),o=document.querySelector(".temperature-icon"),i=document.querySelector(".feels-like-icon"),r=document.querySelector(".feels-like-value"),d=document.querySelector(".humidity-icon"),l=document.querySelector(".humidity-value"),s=document.querySelector(".wind-speed-icon"),u=document.querySelector(".wind-speed-value");t.textContent=e.weather,a.innerHTML=`<img src="../icons/${e.icon}.png"></img>`,n.textContent=e.cityName,c.textContent=e.temperature,o.textContent="metric"===e.scale?"ºC":"ºF",i.classList.add("fa-solid"),i.classList.add("fa-temperature-high"),r.textContent=e.feelsLike+" "+o.textContent,d.classList.add("fa-solid"),d.classList.add("fa-droplet"),l.textContent=e.humidity+" %",s.classList.add("fa-solid"),s.classList.add("fa-wind"),u.textContent=e.windSpeed+" km/h"}const a=document.querySelector(".fa-magnifying-glass"),n=(document.querySelector("input"),document.querySelector(".change-scale")),c=document.querySelector(".temperature-icon"),o=document.querySelector(".city-name");!async function(){a.addEventListener("click",(async()=>{try{t(await e("Barcelona"))}catch(e){}})),n.addEventListener("click",(async()=>{if(c&&o){const a="ºC"===c.textContent?"imperial":"metric";t(await e(o.textContent,a))}}))}(),async function(){t(await e("Barcelona"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHdCQUV0Q2dCLEdBRGNqQixTQUFTQyxjQUFjLFNBQ2pCRCxTQUFTQyxjQUFjLGtCQUMzQ0ksRUFBYUwsU0FBU0MsY0FBYyxxQkFDcENpQixFQUFhbEIsU0FBU0MsY0FBYyxlQUVuQ2hELGlCQUNIK0QsRUFBYUcsaUJBQWlCLFNBQVNsRSxVQUNuQyxJQUVJNEMsUUFENkIzQyxFQUFZLGNBRTVDLE1BQU1ZLFFBSVhtRCxFQUFrQkUsaUJBQWlCLFNBQVNsRSxVQUN4QyxHQUFHb0QsR0FBY2EsRUFBVyxDQUN4QixNQUFNOUQsRUFBbUMsT0FBM0JpRCxFQUFXTyxZQUF1QixXQUFhLFNBRTdEZixRQUQ0QjNDLEVBQVlnRSxFQUFXTixZQUFheEQsUUNsQjVFZ0UsR0FFQSxpQkFFSXZCLFFBRGdCM0MsRUFBWSxjQURoQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvcHJvY2Vzc0RhdGEuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvZmV0Y2hXZWF0aGVyQVBJLmpzIiwid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL3ZpZXcvcmVuZGVyU3RhdGljRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvYWRkRXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyU3RhdGljRWxlbWVudHMgfSBmcm9tICcuLi92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzJ1xyXG5pbXBvcnQgeyBmZXRjaFdlYXRoZXJBUEkgfSBmcm9tICcuL2ZldGNoV2VhdGhlckFQSSdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YShjaXR5LHNjYWxlID0gJ21ldHJpYycpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHtkYXRhLGRhdGEyfSA9IGF3YWl0IGZldGNoV2VhdGhlckFQSShjaXR5LCBzY2FsZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhMilcclxuICAgICAgICBjb25zdCBjaXR5TmFtZSA9IGRhdGEubmFtZVxyXG4gICAgICAgIGNvbnN0IHRlbXBlcmF0dXJlID0gTWF0aC5jZWlsKGRhdGEubWFpbi50ZW1wKVxyXG4gICAgICAgIGNvbnN0IHdlYXRoZXIgPSBkYXRhLndlYXRoZXJbMF0ubWFpblxyXG4gICAgICAgIGNvbnN0IGljb24gPSBkYXRhLndlYXRoZXJbMF0uaWNvblxyXG4gICAgICAgIGNvbnN0IHdlYXRoZXJEZXNjID0gZGF0YS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgY29uc3QgZmVlbHNMaWtlID0gTWF0aC5jZWlsKGRhdGEubWFpbi5mZWVsc19saWtlKVxyXG4gICAgICAgIGNvbnN0IGh1bWlkaXR5ID0gZGF0YS5tYWluLmh1bWlkaXR5XHJcbiAgICAgICAgY29uc3Qgd2luZFNwZWVkID0gTWF0aC5jZWlsKGRhdGEud2luZC5zcGVlZClcclxuXHJcbiAgICAgICAgLy9UT0RPIEZvcmVjYXN0IHZhbHVlcyBkbyBhbiBhcnJheSBvZiBvYmplY3RzP1xyXG4gICAgICAgIGxldCBkYWlseUZvcmVjYXN0ID0gW11cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4IDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRheSA9IGRhdGEyLmRhaWx5W2ldXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlTWF4IDogZGF5LnRlbXAubWF4LFxyXG4gICAgICAgICAgICAgICAgdGVtcGVyYXR1cmVNaW4gOiBkYXkudGVtcC5taW4sXHJcbiAgICAgICAgICAgICAgICB3ZWF0aGVyIDogZGF5LndlYXRoZXJbMF0ubWFpbixcclxuICAgICAgICAgICAgICAgIGljb24gOiBkYXkud2VhdGhlclswXS5pY29uXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGRhaWx5Rm9yZWNhc3QucHVzaCh2YWx1ZXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBjaXR5TmFtZSxcclxuICAgICAgICAgICAgdGVtcGVyYXR1cmUsXHJcbiAgICAgICAgICAgIHdlYXRoZXIsXHJcbiAgICAgICAgICAgIGljb24sXHJcbiAgICAgICAgICAgIHdlYXRoZXJEZXNjLFxyXG4gICAgICAgICAgICBmZWVsc0xpa2UsXHJcbiAgICAgICAgICAgIGh1bWlkaXR5LFxyXG4gICAgICAgICAgICB3aW5kU3BlZWQsXHJcbiAgICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgICBkYWlseUZvcmVjYXN0XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm90IGZvdW5kJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFdlYXRoZXJBUEkgKGNpdHksc2NhbGUpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIC8vVE9ETyBSZWZhY3RvciB3aXRoIFByb21pc2UuYWxsXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eX0mdW5pdHM9JHtzY2FsZX0mYXBwaWQ9NzZkNTEzNmNkNTVkMTRjODhlNGQ5NTQ5ZDBmNTUwZjJgKVxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7ZGF0YS5jb29yZC5sYXR9Jmxvbj0ke2RhdGEuY29vcmQubG9ufSZleGNsdWRlPW1pbnV0ZWx5LGFsZXJ0cyZhcHBpZD03NmQ1MTM2Y2Q1NWQxNGM4OGU0ZDk1NDlkMGY1NTBmMmApXHJcbiAgICAgICAgY29uc3QgZGF0YTIgPSBhd2FpdCByZXNwb25zZTIuanNvbigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgZGF0YTJcclxuICAgICAgICB9XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2l0eSBub3QgZm91bmQhJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufSIsIi8vIFRha2VzIHByb2Nlc3NEYXRhIGFzIGFyZ3VtZW50XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdGF0aWNFbGVtZW50cyhkYXRhVG9EaXNwbGF5KXtcclxuICAgIGNvbnNvbGUubG9nKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICBjb25zdCB3ZWF0aGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pbmZvJylcclxuICAgIGNvbnN0IHdlYXRoZXJJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pY29uJylcclxuICAgIGNvbnN0IGNpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5LW5hbWUnKVxyXG4gICAgY29uc3QgdGVtcGVyYXR1cmVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS12YWx1ZScpXHJcbiAgICBjb25zdCB0ZW1wSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWljb24nKVxyXG4gICAgY29uc3QgZmVlbHNMaWtlSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlZWxzLWxpa2UtaWNvbicpXHJcbiAgICBjb25zdCBmZWVsc0xpa2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWVscy1saWtlLXZhbHVlJylcclxuICAgIGNvbnN0IGh1bWlkaXR5SWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5LWljb24nKVxyXG4gICAgY29uc3QgaHVtaWRpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eS12YWx1ZScpXHJcbiAgICBjb25zdCB3aW5kU3BlZWRJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZC1zcGVlZC1pY29uJylcclxuICAgIGNvbnN0IHdpbmRTcGVlZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQtc3BlZWQtdmFsdWUnKVxyXG4gICAgLy8gSW1wbGVtZW50IGZvcmVjYXN0IGFwcGVuZGluZyB3aXRoIGZvciBsb29wP1xyXG4gICAgXHJcbiAgICB3ZWF0aGVyRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LndlYXRoZXJcclxuICAgIHdlYXRoZXJJY29uRWwuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiLi4vaWNvbnMvJHtkYXRhVG9EaXNwbGF5Lmljb259LnBuZ1wiPjwvaW1nPmBcclxuICAgIGNpdHlFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuY2l0eU5hbWVcclxuICAgIHRlbXBlcmF0dXJlRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LnRlbXBlcmF0dXJlXHJcbiAgICB0ZW1wSWNvbkVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5zY2FsZSA9PT0gJ21ldHJpYycgPyAnwrpDJyA6ICfCukYnXHJcblxyXG4gICAgZmVlbHNMaWtlSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJykgXHJcbiAgICBmZWVsc0xpa2VJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtdGVtcGVyYXR1cmUtaGlnaCcpIFxyXG4gICAgZmVlbHNMaWtlRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmZlZWxzTGlrZSArICcgJyArIHRlbXBJY29uRWwudGV4dENvbnRlbnRcclxuICAgIGh1bWlkaXR5SWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJykgXHJcbiAgICBodW1pZGl0eUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1kcm9wbGV0JykgXHJcbiAgICBodW1pZGl0eUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5odW1pZGl0eSArICcgJSdcclxuICAgIHdpbmRTcGVlZEljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgd2luZFNwZWVkSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXdpbmQnKSBcclxuICAgIHdpbmRTcGVlZEVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS53aW5kU3BlZWQgKyAnIGttL2gnXHJcbn0iLCJpbXBvcnQgeyBwcm9jZXNzRGF0YSB9IGZyb20gJy4vcHJvY2Vzc0RhdGEnXHJcbmltcG9ydCB7IHJlbmRlclN0YXRpY0VsZW1lbnRzIH0gZnJvbSAnLi4vdmlldy9yZW5kZXJTdGF0aWNFbGVtZW50cydcclxuXHJcblxyXG5jb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtbWFnbmlmeWluZy1nbGFzcycpXHJcbmNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKVxyXG5jb25zdCBjaGFuZ2VTY2FsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2Utc2NhbGUnKVxyXG5jb25zdCB0ZW1wSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWljb24nKVxyXG5jb25zdCBjaXR5TmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHktbmFtZScpXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+e1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVRvRGlzcGxheSA9ICBhd2FpdCBwcm9jZXNzRGF0YSgnQmFyY2Vsb25hJylcclxuICAgICAgICAgICAgcmVuZGVyU3RhdGljRWxlbWVudHMoZGF0YVRvRGlzcGxheSlcclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNoYW5nZVNjYWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT57XHJcbiAgICAgICAgaWYodGVtcEljb25FbCAmJiBjaXR5TmFtZUVsKXtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0ZW1wSWNvbkVsLnRleHRDb250ZW50ID09PSAnwrpDJyA/ICdpbXBlcmlhbCcgOiAnbWV0cmljJ1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhVG9EaXNwbGF5ID0gYXdhaXQgcHJvY2Vzc0RhdGEoY2l0eU5hbWVFbC50ZXh0Q29udGVudCwgc2NhbGUpXHJcbiAgICAgICAgICAgIHJlbmRlclN0YXRpY0VsZW1lbnRzKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJpbXBvcnQge3Byb2Nlc3NEYXRhfSBmcm9tICcuL2xvZ2ljL3Byb2Nlc3NEYXRhJ1xyXG5pbXBvcnQge3JlbmRlclN0YXRpY0VsZW1lbnRzfSBmcm9tICcuL3ZpZXcvcmVuZGVyU3RhdGljRWxlbWVudHMnXHJcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi9sb2dpYy9hZGRFdmVudExpc3RlbmVycydcclxuXHJcbmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4oYXN5bmMgZnVuY3Rpb24oKXtcclxuICAgIGNvbnN0IGEgPSBhd2FpdCBwcm9jZXNzRGF0YSgnQmFyY2Vsb25hJylcclxuICAgIHJlbmRlclN0YXRpY0VsZW1lbnRzKGEpXHJcbn0pKCkiXSwibmFtZXMiOlsiYXN5bmMiLCJwcm9jZXNzRGF0YSIsImNpdHkiLCJzY2FsZSIsImRhdGEiLCJkYXRhMiIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwicmVzcG9uc2UyIiwiY29vcmQiLCJsYXQiLCJsb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2hXZWF0aGVyQVBJIiwiY2l0eU5hbWUiLCJuYW1lIiwidGVtcGVyYXR1cmUiLCJNYXRoIiwiY2VpbCIsIm1haW4iLCJ0ZW1wIiwid2VhdGhlciIsImljb24iLCJ3ZWF0aGVyRGVzYyIsImRlc2NyaXB0aW9uIiwiZmVlbHNMaWtlIiwiZmVlbHNfbGlrZSIsImh1bWlkaXR5Iiwid2luZFNwZWVkIiwid2luZCIsInNwZWVkIiwiZGFpbHlGb3JlY2FzdCIsImkiLCJkYXkiLCJkYWlseSIsInZhbHVlcyIsInRlbXBlcmF0dXJlTWF4IiwibWF4IiwidGVtcGVyYXR1cmVNaW4iLCJtaW4iLCJwdXNoIiwicmVuZGVyU3RhdGljRWxlbWVudHMiLCJkYXRhVG9EaXNwbGF5Iiwid2VhdGhlckVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2VhdGhlckljb25FbCIsImNpdHlFbCIsInRlbXBlcmF0dXJlRWwiLCJ0ZW1wSWNvbkVsIiwiZmVlbHNMaWtlSWNvbkVsIiwiZmVlbHNMaWtlRWwiLCJodW1pZGl0eUljb25FbCIsImh1bWlkaXR5RWwiLCJ3aW5kU3BlZWRJY29uRWwiLCJ3aW5kU3BlZWRFbCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwic2VhcmNoQnV0dG9uIiwiY2hhbmdlU2NhbGVCdXR0b24iLCJjaXR5TmFtZUVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==