(()=>{"use strict";var e={318:(e,t,a)=>{e.exports=a.p+"e802a9f70d731d2fd2f4.png"},833:(e,t,a)=>{e.exports=a.p+"cdbce7e3996f9609219f.png"},752:(e,t,a)=>{e.exports=a.p+"18dc023e509e4727794e.png"},982:(e,t,a)=>{e.exports=a.p+"956d99d7047f2c061bf0.png"},989:(e,t,a)=>{e.exports=a.p+"9ce18f766ecb176097b8.png"},549:(e,t,a)=>{e.exports=a.p+"cc81a50e8e6604dfe000.png"},539:(e,t,a)=>{e.exports=a.p+"d69fd8c352955f7d7ea3.png"},158:(e,t,a)=>{e.exports=a.p+"d69fd8c352955f7d7ea3.png"},518:(e,t,a)=>{e.exports=a.p+"651e07809f6d252af7c4.png"},677:(e,t,a)=>{e.exports=a.p+"651e07809f6d252af7c4.png"},402:(e,t,a)=>{e.exports=a.p+"4f8d3bcc2812c7b5d9c9.png"},688:(e,t,a)=>{e.exports=a.p+"4f8d3bcc2812c7b5d9c9.png"},68:(e,t,a)=>{e.exports=a.p+"9500f729939001d86d11.png"},840:(e,t,a)=>{e.exports=a.p+"9500f729939001d86d11.png"},755:(e,t,a)=>{e.exports=a.p+"939dc1c78a3e515af5bc.png"},219:(e,t,a)=>{e.exports=a.p+"939dc1c78a3e515af5bc.png"},747:(e,t,a)=>{e.exports=a.p+"66cd0f5e79266310836a.png"},666:(e,t,a)=>{e.exports=a.p+"66cd0f5e79266310836a.png"},491:(e,t,a)=>{e.exports=a.p+"d35abc149a7493c01157.png"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,a),c.exports}a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{const e=async(e,t)=>{const a=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),n=await a.json(),r=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.coord.lat}&lon=${n.coord.lon}&units=${t}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`);return{dataSet1:n,dataSet2:await r.json()}};async function t(t,a="metric"){try{const n=await async function(t,a){const n=document.querySelector(".loader");try{return n.textContent="Loading ...",n.classList.toggle("visible"),await Promise.race([e(t,a),(r=5e3,new Promise((e=>{setTimeout((()=>{e("Timeout")}),r)})))]).then((e=>(n.classList.toggle("visible"),e)))}catch(e){return n.textContent="City not found!",void setTimeout((()=>{n.classList.toggle("visible"),n.textContent="Loading ..."}),2e3)}var r}(t,a);if(!n)return;let r=new Date((new Date).toLocaleString("en-US",{timeZone:n.timezone}));const c=Math.floor(n.dataSet1.main.temp),o=Math.floor(n.dataSet1.main.feels_like),i=Math.floor(n.dataSet1.wind.speed),d=n.dataSet1.name,s=n.dataSet1.sys.country,u=n.dataSet1.weather[0].main,p=n.dataSet1.weather[0].icon,l=n.dataSet1.weather[0].description,m=n.dataSet1.main.humidity;let y=[];for(let e=1;e<8;e++){const t=n.dataSet2.daily[e],a={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};y.push(a)}return{cityName:d,countryName:s,time:r,temperature:c,weather:u,weatherDesc:l,icon:p,feelsLike:o,humidity:m,windSpeed:i,scale:a,dailyForecast:y}}catch(e){return}}var n=a(318),r=a(833),c=a(752),o=a(982),i=a(989),d=a(549),s=a(539),u=a(158),p=a(518),l=a(677),m=a(402),y=a(688),f=a(68),h=a(840),g=a(755),x=a(219),S=a(747),w=a(666),C=a(491);function q(e){const t=document.querySelector("body"),a=document.querySelector(".weather-info"),q=document.querySelector(".weather-icon"),v=document.querySelector(".city-name"),L=document.querySelector(".date"),$=document.querySelector(".temperature-value"),M=document.querySelector(".temperature-icon"),T=document.querySelector(".feels-like-icon"),k=document.querySelector(".feels-like-value"),F=document.querySelector(".humidity-icon"),D=document.querySelector(".humidity-value"),N=document.querySelector(".wind-speed-icon"),j=document.querySelector(".wind-speed-value"),E=document.querySelector(".change-scale-desc"),H=document.querySelector("input#search"),P=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];[n,r,c,o,i,d,s,u,p,l,m,y,f,h,g,x,S,w,C].find((t=>t.includes(e.icon))),q.innerHTML=`<img src="../icons/${e.icon}.png"></img>`,a.textContent=e.weather,v.textContent=e.cityName+", "+e.countryName,$.textContent=e.temperature,M.textContent="metric"===e.scale?"ºC":"ºF",L.textContent=P[e.time.getDay()]+", "+e.time.getDate()+" - "+("0"+e.time.getHours()).slice(-2)+":"+("0"+e.time.getMinutes()).slice(-2),T.classList.add("fa-solid"),T.classList.add("fa-temperature-high"),k.textContent=e.feelsLike+" "+M.textContent,F.classList.add("fa-solid"),F.classList.add("fa-droplet"),D.textContent=e.humidity+" %",N.classList.add("fa-solid"),N.classList.add("fa-wind"),H.value="",t.style.backgroundColor="blue",j.textContent=e.windSpeed+" "+("metric"===e.scale?"meter/sec":"miles/hour"),E.textContent="Change to "+("metric"===e.scale?"imperial":"metric");for(let t=0;t<e.dailyForecast.length;t++){const a=document.querySelector(`.day${t+1}`),n=document.querySelector(`.day${t+1} > .weekday`),r=document.querySelector(`.day${t+1} > .max-temp`),c=document.querySelector(`.day${t+1} > .min-temp`),o=document.querySelector(`.day${t+1} > .weather-day`),i=document.querySelector(`.day${t+1} > .icon`);o.textContent=e.dailyForecast[t].weather,r.textContent=Math.floor(e.dailyForecast[t].temperatureMax)+" "+M.textContent,c.textContent=Math.floor(e.dailyForecast[t].temperatureMin)+" "+M.textContent,n.innerHTML=b(e.time.getDay(),t,P),i.innerHTML=`<img src="../icons/${e.dailyForecast[t].icon}.png"></img>`,a.appendChild(n),a.appendChild(r),a.appendChild(c),a.appendChild(o),a.appendChild(i)}}const b=(e,t,a)=>{let n=e+t;return n>6&&(n-=7),a[n]};!async function(){const e=document.querySelector(".fa-magnifying-glass"),a=document.querySelector("input#search"),n=document.querySelector(".change-scale"),r=document.querySelector(".temperature-icon"),c=document.querySelector(".city-name");e.addEventListener("click",(async()=>{try{q(await t(a.value))}catch(e){}})),n.addEventListener("click",(async()=>{if(r&&c)try{const e="ºC"===r.textContent?"imperial":"metric";q(await t(c.textContent,e))}catch(e){}}))}(),async function(){q(await t("Barcelona"))}()})()})();