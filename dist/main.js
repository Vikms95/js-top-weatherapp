(()=>{"use strict";async function e(e,t="metric"){try{const{data:n,data2:a}=await async function(e,t){try{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),a=await n.json(),c=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${a.coord.lat}&lon=${a.coord.lon}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`);return{data:a,data2:await c.json()}}catch(e){return void console.log("City not found!")}}(e,t);console.log(a);const c=n.name,o=Math.ceil(n.main.temp),i=n.weather[0].main,r=n.weather[0].icon,d=n.weather[0].description,l=Math.ceil(n.main.feels_like),u=n.main.humidity,s=Math.ceil(n.wind.speed);let m=[];for(let e=1;e<8;e++){const t=a.daily[e],n={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};m.push(n)}return console.log(m),{cityName:c,temperature:o,weather:i,icon:r,weatherDesc:d,feelsLike:l,humidity:u,windSpeed:s,scale:t,dailyForecast:m}}catch(e){return void console.log("Not found")}}function t(e){console.log(e);const t=document.querySelector(".weather-info"),n=document.querySelector(".weather-icon"),a=document.querySelector(".city-name"),c=document.querySelector(".temperature-value"),o=document.querySelector(".temperature-icon"),i=document.querySelector(".feels-like-icon"),r=document.querySelector(".feels-like-value"),d=document.querySelector(".humidity-icon"),l=document.querySelector(".humidity-value"),u=document.querySelector(".wind-speed-icon"),s=document.querySelector(".wind-speed-value");t.textContent=e.weather,n.innerHTML=`<img src="../icons/${e.icon}.png"></img>`,a.textContent=e.cityName,c.textContent=e.temperature,o.textContent="metric"===e.scale?"ºC":"ºF",i.classList.add("fa-solid"),i.classList.add("fa-temperature-high"),r.textContent=e.feelsLike+" "+o.textContent,d.classList.add("fa-solid"),d.classList.add("fa-droplet"),l.textContent=e.humidity+" %",u.classList.add("fa-solid"),u.classList.add("fa-wind"),s.textContent=e.windSpeed+" km/h";for(let t=0;t<e.dailyForecast.length;t++){const n=document.querySelector(`.day${t+1}`),a=document.querySelector(`.day${t+1} > .max-temp`),c=document.querySelector(`.day${t+1} > .min-temp`),i=document.querySelector(`.day${t+1} > .weather`),r=document.querySelector(`.day${t+1} > .icon`);a.textContent=Math.ceil(e.dailyForecast[t].temperatureMax)+" "+o.textContent,c.textContent=Math.ceil(e.dailyForecast[t].temperatureMin)+" "+o.textContent,i.textContent=e.dailyForecast[t].weather,r.innerHTML=`<img src="../icons/${e.dailyForecast[t].icon}.png"></img>`,n.appendChild(a),n.appendChild(c),n.appendChild(i),n.appendChild(r)}}const n=document.querySelector(".fa-magnifying-glass"),a=(document.querySelector("input"),document.querySelector(".change-scale")),c=document.querySelector(".temperature-icon"),o=document.querySelector(".city-name");!async function(){n.addEventListener("click",(async()=>{try{t(await e("Barcelona"))}catch(e){}})),a.addEventListener("click",(async()=>{if(c&&o){const n="ºC"===c.textContent?"imperial":"metric";t(await e(o.textContent,n))}}))}(),async function(){t(await e("Barcelona"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QURnQjNDLEVBQVksY0FEaEMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL2xvZ2ljL3Byb2Nlc3NEYXRhLmpzIiwid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL2xvZ2ljL2ZldGNoV2VhdGhlckFQSS5qcyIsIndlYnBhY2s6Ly9qcy10b3Atd2VhdGhlcmFwcC8uL3NyYy92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzLmpzIiwid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL2xvZ2ljL2FkZEV2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlclN0YXRpY0VsZW1lbnRzIH0gZnJvbSAnLi4vdmlldy9yZW5kZXJTdGF0aWNFbGVtZW50cydcclxuaW1wb3J0IHsgZmV0Y2hXZWF0aGVyQVBJIH0gZnJvbSAnLi9mZXRjaFdlYXRoZXJBUEknXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0RhdGEoY2l0eSxzY2FsZSA9ICdtZXRyaWMnKXtcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCB7ZGF0YSxkYXRhMn0gPSBhd2FpdCBmZXRjaFdlYXRoZXJBUEkoY2l0eSwgc2NhbGUpXHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YTIpXHJcbiAgICAgICAgY29uc3QgY2l0eU5hbWUgPSBkYXRhLm5hbWVcclxuICAgICAgICBjb25zdCB0ZW1wZXJhdHVyZSA9IE1hdGguY2VpbChkYXRhLm1haW4udGVtcClcclxuICAgICAgICBjb25zdCB3ZWF0aGVyID0gZGF0YS53ZWF0aGVyWzBdLm1haW5cclxuICAgICAgICBjb25zdCBpY29uID0gZGF0YS53ZWF0aGVyWzBdLmljb25cclxuICAgICAgICBjb25zdCB3ZWF0aGVyRGVzYyA9IGRhdGEud2VhdGhlclswXS5kZXNjcmlwdGlvblxyXG4gICAgICAgIGNvbnN0IGZlZWxzTGlrZSA9IE1hdGguY2VpbChkYXRhLm1haW4uZmVlbHNfbGlrZSlcclxuICAgICAgICBjb25zdCBodW1pZGl0eSA9IGRhdGEubWFpbi5odW1pZGl0eVxyXG4gICAgICAgIGNvbnN0IHdpbmRTcGVlZCA9IE1hdGguY2VpbChkYXRhLndpbmQuc3BlZWQpXHJcblxyXG4gICAgICAgIC8vVE9ETyBGb3JlY2FzdCB2YWx1ZXMgZG8gYW4gYXJyYXkgb2Ygb2JqZWN0cz9cclxuICAgICAgICBsZXQgZGFpbHlGb3JlY2FzdCA9IFtdXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgOCA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBkYXkgPSBkYXRhMi5kYWlseVtpXVxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZU1heCA6IGRheS50ZW1wLm1heCxcclxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlTWluIDogZGF5LnRlbXAubWluLFxyXG4gICAgICAgICAgICAgICAgd2VhdGhlciA6IGRheS53ZWF0aGVyWzBdLm1haW4sXHJcbiAgICAgICAgICAgICAgICBpY29uIDogZGF5LndlYXRoZXJbMF0uaWNvblxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBkYWlseUZvcmVjYXN0LnB1c2godmFsdWVzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhkYWlseUZvcmVjYXN0KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBjaXR5TmFtZSxcclxuICAgICAgICAgICAgdGVtcGVyYXR1cmUsXHJcbiAgICAgICAgICAgIHdlYXRoZXIsXHJcbiAgICAgICAgICAgIGljb24sXHJcbiAgICAgICAgICAgIHdlYXRoZXJEZXNjLFxyXG4gICAgICAgICAgICBmZWVsc0xpa2UsXHJcbiAgICAgICAgICAgIGh1bWlkaXR5LFxyXG4gICAgICAgICAgICB3aW5kU3BlZWQsXHJcbiAgICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgICBkYWlseUZvcmVjYXN0XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm90IGZvdW5kJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFdlYXRoZXJBUEkgKGNpdHksc2NhbGUpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIC8vVE9ETyBSZWZhY3RvciB3aXRoIFByb21pc2UuYWxsXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eX0mdW5pdHM9JHtzY2FsZX0mYXBwaWQ9NzZkNTEzNmNkNTVkMTRjODhlNGQ5NTQ5ZDBmNTUwZjJgKVxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7ZGF0YS5jb29yZC5sYXR9Jmxvbj0ke2RhdGEuY29vcmQubG9ufSZleGNsdWRlPW1pbnV0ZWx5LGFsZXJ0cyZhcHBpZD03NmQ1MTM2Y2Q1NWQxNGM4OGU0ZDk1NDlkMGY1NTBmMmApXHJcbiAgICAgICAgY29uc3QgZGF0YTIgPSBhd2FpdCByZXNwb25zZTIuanNvbigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgZGF0YTJcclxuICAgICAgICB9XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2l0eSBub3QgZm91bmQhJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufSIsIi8vIFRha2VzIHByb2Nlc3NEYXRhIGFzIGFyZ3VtZW50XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdGF0aWNFbGVtZW50cyhkYXRhVG9EaXNwbGF5KXtcclxuICAgIGNvbnNvbGUubG9nKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICBjb25zdCB3ZWF0aGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pbmZvJylcclxuICAgIGNvbnN0IHdlYXRoZXJJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pY29uJylcclxuICAgIGNvbnN0IGNpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5LW5hbWUnKVxyXG4gICAgY29uc3QgdGVtcGVyYXR1cmVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS12YWx1ZScpXHJcbiAgICBjb25zdCB0ZW1wSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWljb24nKVxyXG4gICAgY29uc3QgZmVlbHNMaWtlSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlZWxzLWxpa2UtaWNvbicpXHJcbiAgICBjb25zdCBmZWVsc0xpa2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWVscy1saWtlLXZhbHVlJylcclxuICAgIGNvbnN0IGh1bWlkaXR5SWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5LWljb24nKVxyXG4gICAgY29uc3QgaHVtaWRpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eS12YWx1ZScpXHJcbiAgICBjb25zdCB3aW5kU3BlZWRJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZC1zcGVlZC1pY29uJylcclxuICAgIGNvbnN0IHdpbmRTcGVlZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQtc3BlZWQtdmFsdWUnKVxyXG4gICAgLy8gSW1wbGVtZW50IGZvcmVjYXN0IGFwcGVuZGluZyB3aXRoIGZvciBsb29wP1xyXG4gICAgXHJcbiAgICB3ZWF0aGVyRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LndlYXRoZXJcclxuICAgIHdlYXRoZXJJY29uRWwuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiLi4vaWNvbnMvJHtkYXRhVG9EaXNwbGF5Lmljb259LnBuZ1wiPjwvaW1nPmBcclxuICAgIGNpdHlFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuY2l0eU5hbWVcclxuICAgIHRlbXBlcmF0dXJlRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LnRlbXBlcmF0dXJlXHJcbiAgICB0ZW1wSWNvbkVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5zY2FsZSA9PT0gJ21ldHJpYycgPyAnwrpDJyA6ICfCukYnXHJcblxyXG4gICAgZmVlbHNMaWtlSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJykgXHJcbiAgICBmZWVsc0xpa2VJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtdGVtcGVyYXR1cmUtaGlnaCcpIFxyXG4gICAgZmVlbHNMaWtlRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmZlZWxzTGlrZSArICcgJyArIHRlbXBJY29uRWwudGV4dENvbnRlbnRcclxuICAgIGh1bWlkaXR5SWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJykgXHJcbiAgICBodW1pZGl0eUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1kcm9wbGV0JykgXHJcbiAgICBodW1pZGl0eUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5odW1pZGl0eSArICcgJSdcclxuICAgIHdpbmRTcGVlZEljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgd2luZFNwZWVkSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXdpbmQnKSBcclxuICAgIHdpbmRTcGVlZEVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS53aW5kU3BlZWQgKyAnIGttL2gnXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX1gKVxyXG4gICAgICAgIC8vVE9ETyBJbXBsZW1lbnQgd2Vla2RheVxyXG4gICAgICAgIC8vIGNvbnN0IHdlZWtkYXkgPSAnJ1xyXG4gICAgICAgIGNvbnN0IG1heFRlbXBFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5kYXkke2kgKyAxfSA+IC5tYXgtdGVtcGApXHJcbiAgICAgICAgY29uc3QgbWluVGVtcEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRheSR7aSArIDF9ID4gLm1pbi10ZW1wYClcclxuICAgICAgICBjb25zdCB3ZWF0aGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX0gPiAud2VhdGhlcmApXHJcbiAgICAgICAgY29uc3Qgd2VhdGhlckljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5kYXkke2kgKyAxfSA+IC5pY29uYClcclxuXHJcbiAgICAgICAgbWF4VGVtcEVsLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKGRhdGFUb0Rpc3BsYXkuZGFpbHlGb3JlY2FzdFtpXS50ZW1wZXJhdHVyZU1heCkgKyAnICcgKyB0ZW1wSWNvbkVsLnRleHRDb250ZW50XHJcbiAgICAgICAgbWluVGVtcEVsLnRleHRDb250ZW50ID0gTWF0aC5jZWlsKGRhdGFUb0Rpc3BsYXkuZGFpbHlGb3JlY2FzdFtpXS50ZW1wZXJhdHVyZU1pbikgKyAnICcrIHRlbXBJY29uRWwudGV4dENvbnRlbnRcclxuICAgICAgICB3ZWF0aGVyRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3RbaV0ud2VhdGhlclxyXG4gICAgICAgIHdlYXRoZXJJY29uRWwuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiLi4vaWNvbnMvJHtkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3RbaV0uaWNvbn0ucG5nXCI+PC9pbWc+YFxyXG5cclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobWF4VGVtcEVsKVxyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChtaW5UZW1wRWwpXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHdlYXRoZXJFbClcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQod2VhdGhlckljb25FbClcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCB7IHByb2Nlc3NEYXRhIH0gZnJvbSAnLi9wcm9jZXNzRGF0YSdcclxuaW1wb3J0IHsgcmVuZGVyU3RhdGljRWxlbWVudHMgfSBmcm9tICcuLi92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzJ1xyXG5cclxuXHJcbmNvbnN0IHNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1tYWduaWZ5aW5nLWdsYXNzJylcclxuLy8gRml4ZWQgdG8gYSBjaXR5IGZvciB0ZXN0aW5nXHJcbmNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKVxyXG5jb25zdCBjaGFuZ2VTY2FsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2Utc2NhbGUnKVxyXG5jb25zdCB0ZW1wSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWljb24nKVxyXG5jb25zdCBjaXR5TmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHktbmFtZScpXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+e1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVRvRGlzcGxheSA9ICBhd2FpdCBwcm9jZXNzRGF0YSgnQmFyY2Vsb25hJylcclxuICAgICAgICAgICAgcmVuZGVyU3RhdGljRWxlbWVudHMoZGF0YVRvRGlzcGxheSlcclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNoYW5nZVNjYWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT57XHJcbiAgICAgICAgaWYodGVtcEljb25FbCAmJiBjaXR5TmFtZUVsKXtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0ZW1wSWNvbkVsLnRleHRDb250ZW50ID09PSAnwrpDJyA/ICdpbXBlcmlhbCcgOiAnbWV0cmljJ1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhVG9EaXNwbGF5ID0gYXdhaXQgcHJvY2Vzc0RhdGEoY2l0eU5hbWVFbC50ZXh0Q29udGVudCwgc2NhbGUpXHJcbiAgICAgICAgICAgIHJlbmRlclN0YXRpY0VsZW1lbnRzKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJpbXBvcnQge3Byb2Nlc3NEYXRhfSBmcm9tICcuL2xvZ2ljL3Byb2Nlc3NEYXRhJ1xyXG5pbXBvcnQge3JlbmRlclN0YXRpY0VsZW1lbnRzfSBmcm9tICcuL3ZpZXcvcmVuZGVyU3RhdGljRWxlbWVudHMnXHJcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi9sb2dpYy9hZGRFdmVudExpc3RlbmVycydcclxuXHJcbmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4oYXN5bmMgZnVuY3Rpb24oKXtcclxuICAgIGNvbnN0IGEgPSBhd2FpdCBwcm9jZXNzRGF0YSgnQmFyY2Vsb25hJylcclxuICAgIHJlbmRlclN0YXRpY0VsZW1lbnRzKGEpXHJcbn0pKCkiXSwibmFtZXMiOlsiYXN5bmMiLCJwcm9jZXNzRGF0YSIsImNpdHkiLCJzY2FsZSIsImRhdGEiLCJkYXRhMiIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwicmVzcG9uc2UyIiwiY29vcmQiLCJsYXQiLCJsb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2hXZWF0aGVyQVBJIiwiY2l0eU5hbWUiLCJuYW1lIiwidGVtcGVyYXR1cmUiLCJNYXRoIiwiY2VpbCIsIm1haW4iLCJ0ZW1wIiwid2VhdGhlciIsImljb24iLCJ3ZWF0aGVyRGVzYyIsImRlc2NyaXB0aW9uIiwiZmVlbHNMaWtlIiwiZmVlbHNfbGlrZSIsImh1bWlkaXR5Iiwid2luZFNwZWVkIiwid2luZCIsInNwZWVkIiwiZGFpbHlGb3JlY2FzdCIsImkiLCJkYXkiLCJkYWlseSIsInZhbHVlcyIsInRlbXBlcmF0dXJlTWF4IiwibWF4IiwidGVtcGVyYXR1cmVNaW4iLCJtaW4iLCJwdXNoIiwicmVuZGVyU3RhdGljRWxlbWVudHMiLCJkYXRhVG9EaXNwbGF5Iiwid2VhdGhlckVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2VhdGhlckljb25FbCIsImNpdHlFbCIsInRlbXBlcmF0dXJlRWwiLCJ0ZW1wSWNvbkVsIiwiZmVlbHNMaWtlSWNvbkVsIiwiZmVlbHNMaWtlRWwiLCJodW1pZGl0eUljb25FbCIsImh1bWlkaXR5RWwiLCJ3aW5kU3BlZWRJY29uRWwiLCJ3aW5kU3BlZWRFbCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwibGVuZ3RoIiwiZGl2IiwibWF4VGVtcEVsIiwibWluVGVtcEVsIiwiYXBwZW5kQ2hpbGQiLCJzZWFyY2hCdXR0b24iLCJjaGFuZ2VTY2FsZUJ1dHRvbiIsImNpdHlOYW1lRWwiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9