(()=>{"use strict";async function e(e,t="metric"){try{const{data:n,data2:a}=await async function(e,t){try{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),a=await n.json(),o=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${a.coord.lat}&lon=${a.coord.lon}&units=${t}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`),c=await o.json();return console.log(a,c),{data:a,data2:c}}catch(e){return void console.log("City not found!")}}(e,t);console.log(a);const o=n.name,c=Math.floor(n.main.temp),r=n.weather[0].main,i=n.weather[0].icon,d=n.weather[0].description,l=Math.floor(n.main.feels_like),u=n.main.humidity,s=Math.floor(n.wind.speed);let m=[];for(let e=1;e<8;e++){const t=a.daily[e],n={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};m.push(n)}return console.log(m),{cityName:o,temperature:c,weather:r,icon:i,weatherDesc:d,feelsLike:l,humidity:u,windSpeed:s,scale:t,dailyForecast:m}}catch(e){return void console.log("Not found")}}function t(e){console.log(e);const t=document.querySelector(".weather-info"),n=document.querySelector(".weather-icon"),a=document.querySelector(".city-name"),o=document.querySelector(".temperature-value"),c=document.querySelector(".temperature-icon"),r=document.querySelector(".feels-like-icon"),i=document.querySelector(".feels-like-value"),d=document.querySelector(".humidity-icon"),l=document.querySelector(".humidity-value"),u=document.querySelector(".wind-speed-icon"),s=document.querySelector(".wind-speed-value");t.textContent=e.weather,n.innerHTML=`<img src="../icons/${e.icon}.png"></img>`,a.textContent=e.cityName,o.textContent=e.temperature,c.textContent="metric"===e.scale?"ºC":"ºF",r.classList.add("fa-solid"),r.classList.add("fa-temperature-high"),i.textContent=e.feelsLike+" "+c.textContent,d.classList.add("fa-solid"),d.classList.add("fa-droplet"),l.textContent=e.humidity+" %",u.classList.add("fa-solid"),u.classList.add("fa-wind"),s.textContent=e.windSpeed+" km/h";for(let t=0;t<e.dailyForecast.length;t++){const n=document.querySelector(`.day${t+1}`),a=document.querySelector(`.day${t+1} > .max-temp`),o=document.querySelector(`.day${t+1} > .min-temp`),r=document.querySelector(`.day${t+1} > .weather-day`),i=document.querySelector(`.day${t+1} > .icon`);a.textContent=Math.floor(e.dailyForecast[t].temperatureMax)+" "+c.textContent,o.textContent=Math.floor(e.dailyForecast[t].temperatureMin)+" "+c.textContent,r.textContent=e.dailyForecast[t].weather,i.innerHTML=`<img src="../icons/${e.dailyForecast[t].icon}.png"></img>`,n.appendChild(a),n.appendChild(o),n.appendChild(r),n.appendChild(i)}}const n=document.querySelector(".fa-magnifying-glass"),a=document.querySelector("input"),o=document.querySelector(".change-scale"),c=document.querySelector(".temperature-icon"),r=document.querySelector(".city-name");!async function(){n.addEventListener("click",(async()=>{try{t(await e(a.value))}catch(e){}})),o.addEventListener("click",(async()=>{if(c&&r){const n="ºC"===c.textContent?"imperial":"metric";t(await e(r.textContent,n))}}))}(),async function(){t(await e("Barcelona"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBRTdEZixRQUQ0QjNDLEVBQVlzRSxFQUFXWixZQUFheEQsUUNuQjVFdUUsR0FFQSxpQkFFSTlCLFFBRGdCM0MsRUFBWSxjQURoQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvcHJvY2Vzc0RhdGEuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvZmV0Y2hXZWF0aGVyQVBJLmpzIiwid2VicGFjazovL2pzLXRvcC13ZWF0aGVyYXBwLy4vc3JjL3ZpZXcvcmVuZGVyU3RhdGljRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvbG9naWMvYWRkRXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyU3RhdGljRWxlbWVudHMgfSBmcm9tICcuLi92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzJ1xyXG5pbXBvcnQgeyBmZXRjaFdlYXRoZXJBUEkgfSBmcm9tICcuL2ZldGNoV2VhdGhlckFQSSdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YShjaXR5LHNjYWxlID0gJ21ldHJpYycpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHtkYXRhLGRhdGEyfSA9IGF3YWl0IGZldGNoV2VhdGhlckFQSShjaXR5LCBzY2FsZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhMilcclxuICAgICAgICBjb25zdCBjaXR5TmFtZSA9IGRhdGEubmFtZVxyXG4gICAgICAgIGNvbnN0IHRlbXBlcmF0dXJlID0gTWF0aC5mbG9vcihkYXRhLm1haW4udGVtcClcclxuICAgICAgICBjb25zdCB3ZWF0aGVyID0gZGF0YS53ZWF0aGVyWzBdLm1haW5cclxuICAgICAgICBjb25zdCBpY29uID0gZGF0YS53ZWF0aGVyWzBdLmljb25cclxuICAgICAgICBjb25zdCB3ZWF0aGVyRGVzYyA9IGRhdGEud2VhdGhlclswXS5kZXNjcmlwdGlvblxyXG4gICAgICAgIGNvbnN0IGZlZWxzTGlrZSA9IE1hdGguZmxvb3IoZGF0YS5tYWluLmZlZWxzX2xpa2UpXHJcbiAgICAgICAgY29uc3QgaHVtaWRpdHkgPSBkYXRhLm1haW4uaHVtaWRpdHlcclxuICAgICAgICBjb25zdCB3aW5kU3BlZWQgPSBNYXRoLmZsb29yKGRhdGEud2luZC5zcGVlZClcclxuXHJcbiAgICAgICAgLy9UT0RPIEZvcmVjYXN0IHZhbHVlcyBkbyBhbiBhcnJheSBvZiBvYmplY3RzP1xyXG4gICAgICAgIGxldCBkYWlseUZvcmVjYXN0ID0gW11cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4IDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRheSA9IGRhdGEyLmRhaWx5W2ldXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlTWF4IDogZGF5LnRlbXAubWF4LFxyXG4gICAgICAgICAgICAgICAgdGVtcGVyYXR1cmVNaW4gOiBkYXkudGVtcC5taW4sXHJcbiAgICAgICAgICAgICAgICB3ZWF0aGVyIDogZGF5LndlYXRoZXJbMF0ubWFpbixcclxuICAgICAgICAgICAgICAgIGljb24gOiBkYXkud2VhdGhlclswXS5pY29uXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGRhaWx5Rm9yZWNhc3QucHVzaCh2YWx1ZXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhaWx5Rm9yZWNhc3QpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIGNpdHlOYW1lLFxyXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZSxcclxuICAgICAgICAgICAgd2VhdGhlcixcclxuICAgICAgICAgICAgaWNvbixcclxuICAgICAgICAgICAgd2VhdGhlckRlc2MsXHJcbiAgICAgICAgICAgIGZlZWxzTGlrZSxcclxuICAgICAgICAgICAgaHVtaWRpdHksXHJcbiAgICAgICAgICAgIHdpbmRTcGVlZCxcclxuICAgICAgICAgICAgc2NhbGUsXHJcbiAgICAgICAgICAgIGRhaWx5Rm9yZWNhc3RcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBjYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOb3QgZm91bmQnKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoV2VhdGhlckFQSSAoY2l0eSxzY2FsZSl7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgLy9UT0RPIFJlZmFjdG9yIHdpdGggUHJvbWlzZS5hbGxcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtjaXR5fSZ1bml0cz0ke3NjYWxlfSZhcHBpZD03NmQ1MTM2Y2Q1NWQxNGM4OGU0ZDk1NDlkMGY1NTBmMmApXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9JHtkYXRhLmNvb3JkLmxhdH0mbG9uPSR7ZGF0YS5jb29yZC5sb259JnVuaXRzPSR7c2NhbGV9JmV4Y2x1ZGU9bWludXRlbHksYWxlcnRzJmFwcGlkPTc2ZDUxMzZjZDU1ZDE0Yzg4ZTRkOTU0OWQwZjU1MGYyYClcclxuICAgICAgICBjb25zdCBkYXRhMiA9IGF3YWl0IHJlc3BvbnNlMi5qc29uKClcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLGRhdGEyKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIGRhdGEyXHJcbiAgICAgICAgfVxyXG4gICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0NpdHkgbm90IGZvdW5kIScpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbn0iLCIvLyBUYWtlcyBwcm9jZXNzRGF0YSBhcyBhcmd1bWVudFxyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyU3RhdGljRWxlbWVudHMoZGF0YVRvRGlzcGxheSl7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhVG9EaXNwbGF5KVxyXG4gICAgY29uc3Qgd2VhdGhlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaW5mbycpXHJcbiAgICBjb25zdCB3ZWF0aGVySWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaWNvbicpXHJcbiAgICBjb25zdCBjaXR5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2l0eS1uYW1lJylcclxuICAgIGNvbnN0IHRlbXBlcmF0dXJlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUtdmFsdWUnKVxyXG4gICAgY29uc3QgdGVtcEljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS1pY29uJylcclxuICAgIGNvbnN0IGZlZWxzTGlrZUljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWVscy1saWtlLWljb24nKVxyXG4gICAgY29uc3QgZmVlbHNMaWtlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVlbHMtbGlrZS12YWx1ZScpXHJcbiAgICBjb25zdCBodW1pZGl0eUljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eS1pY29uJylcclxuICAgIGNvbnN0IGh1bWlkaXR5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHktdmFsdWUnKVxyXG4gICAgY29uc3Qgd2luZFNwZWVkSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQtc3BlZWQtaWNvbicpXHJcbiAgICBjb25zdCB3aW5kU3BlZWRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kLXNwZWVkLXZhbHVlJylcclxuICAgIC8vIEltcGxlbWVudCBmb3JlY2FzdCBhcHBlbmRpbmcgd2l0aCBmb3IgbG9vcD9cclxuICAgIFxyXG4gICAgd2VhdGhlckVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS53ZWF0aGVyXHJcbiAgICB3ZWF0aGVySWNvbkVsLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIi4uL2ljb25zLyR7ZGF0YVRvRGlzcGxheS5pY29ufS5wbmdcIj48L2ltZz5gXHJcbiAgICBjaXR5RWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmNpdHlOYW1lXHJcbiAgICB0ZW1wZXJhdHVyZUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS50ZW1wZXJhdHVyZVxyXG4gICAgdGVtcEljb25FbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuc2NhbGUgPT09ICdtZXRyaWMnID8gJ8K6QycgOiAnwrpGJ1xyXG5cclxuICAgIGZlZWxzTGlrZUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgZmVlbHNMaWtlSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXRlbXBlcmF0dXJlLWhpZ2gnKSBcclxuICAgIGZlZWxzTGlrZUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5mZWVsc0xpa2UgKyAnICcgKyB0ZW1wSWNvbkVsLnRleHRDb250ZW50XHJcbiAgICBodW1pZGl0eUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgaHVtaWRpdHlJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtZHJvcGxldCcpIFxyXG4gICAgaHVtaWRpdHlFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuaHVtaWRpdHkgKyAnICUnXHJcbiAgICB3aW5kU3BlZWRJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtc29saWQnKSBcclxuICAgIHdpbmRTcGVlZEljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS13aW5kJykgXHJcbiAgICB3aW5kU3BlZWRFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkud2luZFNwZWVkICsgJyBrbS9oJ1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVRvRGlzcGxheS5kYWlseUZvcmVjYXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRheSR7aSArIDF9YClcclxuICAgICAgICAvL1RPRE8gSW1wbGVtZW50IHdlZWtkYXlcclxuICAgICAgICAvLyBjb25zdCB3ZWVrZGF5ID0gJydcclxuICAgICAgICBjb25zdCBtYXhUZW1wRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX0gPiAubWF4LXRlbXBgKVxyXG4gICAgICAgIGNvbnN0IG1pblRlbXBFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5kYXkke2kgKyAxfSA+IC5taW4tdGVtcGApXHJcbiAgICAgICAgY29uc3Qgd2VhdGhlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRheSR7aSArIDF9ID4gLndlYXRoZXItZGF5YClcclxuICAgICAgICBjb25zdCB3ZWF0aGVySWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRheSR7aSArIDF9ID4gLmljb25gKVxyXG5cclxuICAgICAgICBtYXhUZW1wRWwudGV4dENvbnRlbnQgPSBNYXRoLmZsb29yKGRhdGFUb0Rpc3BsYXkuZGFpbHlGb3JlY2FzdFtpXS50ZW1wZXJhdHVyZU1heCkgKyAnICcgKyB0ZW1wSWNvbkVsLnRleHRDb250ZW50XHJcbiAgICAgICAgbWluVGVtcEVsLnRleHRDb250ZW50ID0gTWF0aC5mbG9vcihkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3RbaV0udGVtcGVyYXR1cmVNaW4pICsgJyAnKyB0ZW1wSWNvbkVsLnRleHRDb250ZW50XHJcbiAgICAgICAgd2VhdGhlckVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5kYWlseUZvcmVjYXN0W2ldLndlYXRoZXJcclxuICAgICAgICB3ZWF0aGVySWNvbkVsLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIi4uL2ljb25zLyR7ZGF0YVRvRGlzcGxheS5kYWlseUZvcmVjYXN0W2ldLmljb259LnBuZ1wiPjwvaW1nPmBcclxuXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG1heFRlbXBFbClcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobWluVGVtcEVsKVxyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh3ZWF0aGVyRWwpXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHdlYXRoZXJJY29uRWwpXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBwcm9jZXNzRGF0YSB9IGZyb20gJy4vcHJvY2Vzc0RhdGEnXHJcbmltcG9ydCB7IHJlbmRlclN0YXRpY0VsZW1lbnRzIH0gZnJvbSAnLi4vdmlldy9yZW5kZXJTdGF0aWNFbGVtZW50cydcclxuXHJcblxyXG5jb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtbWFnbmlmeWluZy1nbGFzcycpXHJcbi8vIEZpeGVkIHRvIGEgY2l0eSBmb3IgdGVzdGluZ1xyXG5jb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcclxuY29uc3QgY2hhbmdlU2NhbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhbmdlLXNjYWxlJylcclxuY29uc3QgdGVtcEljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS1pY29uJylcclxuY29uc3QgY2l0eU5hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5LW5hbWUnKVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PntcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFUb0Rpc3BsYXkgPSAgYXdhaXQgcHJvY2Vzc0RhdGEoc2VhcmNoSW5wdXQudmFsdWUpXHJcbiAgICAgICAgICAgIHJlbmRlclN0YXRpY0VsZW1lbnRzKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICAgICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjaGFuZ2VTY2FsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+e1xyXG4gICAgICAgIGlmKHRlbXBJY29uRWwgJiYgY2l0eU5hbWVFbCl7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGVtcEljb25FbC50ZXh0Q29udGVudCA9PT0gJ8K6QycgPyAnaW1wZXJpYWwnIDogJ21ldHJpYydcclxuICAgICAgICAgICAgY29uc3QgZGF0YVRvRGlzcGxheSA9IGF3YWl0IHByb2Nlc3NEYXRhKGNpdHlOYW1lRWwudGV4dENvbnRlbnQsIHNjYWxlKVxyXG4gICAgICAgICAgICByZW5kZXJTdGF0aWNFbGVtZW50cyhkYXRhVG9EaXNwbGF5KVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59IiwiaW1wb3J0IHtwcm9jZXNzRGF0YX0gZnJvbSAnLi9sb2dpYy9wcm9jZXNzRGF0YSdcclxuaW1wb3J0IHtyZW5kZXJTdGF0aWNFbGVtZW50c30gZnJvbSAnLi92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzJ1xyXG5pbXBvcnQgeyBhZGRFdmVudExpc3RlbmVycyB9IGZyb20gJy4vbG9naWMvYWRkRXZlbnRMaXN0ZW5lcnMnXHJcblxyXG5hZGRFdmVudExpc3RlbmVycygpO1xyXG5cclxuKGFzeW5jIGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCBhID0gYXdhaXQgcHJvY2Vzc0RhdGEoJ0JhcmNlbG9uYScpXHJcbiAgICByZW5kZXJTdGF0aWNFbGVtZW50cyhhKVxyXG59KSgpIl0sIm5hbWVzIjpbImFzeW5jIiwicHJvY2Vzc0RhdGEiLCJjaXR5Iiwic2NhbGUiLCJkYXRhIiwiZGF0YTIiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsInJlc3BvbnNlMiIsImNvb3JkIiwibGF0IiwibG9uIiwiY29uc29sZSIsImxvZyIsImVyciIsImZldGNoV2VhdGhlckFQSSIsImNpdHlOYW1lIiwibmFtZSIsInRlbXBlcmF0dXJlIiwiTWF0aCIsImZsb29yIiwibWFpbiIsInRlbXAiLCJ3ZWF0aGVyIiwiaWNvbiIsIndlYXRoZXJEZXNjIiwiZGVzY3JpcHRpb24iLCJmZWVsc0xpa2UiLCJmZWVsc19saWtlIiwiaHVtaWRpdHkiLCJ3aW5kU3BlZWQiLCJ3aW5kIiwic3BlZWQiLCJkYWlseUZvcmVjYXN0IiwiaSIsImRheSIsImRhaWx5IiwidmFsdWVzIiwidGVtcGVyYXR1cmVNYXgiLCJtYXgiLCJ0ZW1wZXJhdHVyZU1pbiIsIm1pbiIsInB1c2giLCJyZW5kZXJTdGF0aWNFbGVtZW50cyIsImRhdGFUb0Rpc3BsYXkiLCJ3ZWF0aGVyRWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3ZWF0aGVySWNvbkVsIiwiY2l0eUVsIiwidGVtcGVyYXR1cmVFbCIsInRlbXBJY29uRWwiLCJmZWVsc0xpa2VJY29uRWwiLCJmZWVsc0xpa2VFbCIsImh1bWlkaXR5SWNvbkVsIiwiaHVtaWRpdHlFbCIsIndpbmRTcGVlZEljb25FbCIsIndpbmRTcGVlZEVsIiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJjbGFzc0xpc3QiLCJhZGQiLCJsZW5ndGgiLCJkaXYiLCJtYXhUZW1wRWwiLCJtaW5UZW1wRWwiLCJhcHBlbmRDaGlsZCIsInNlYXJjaEJ1dHRvbiIsInNlYXJjaElucHV0IiwiY2hhbmdlU2NhbGVCdXR0b24iLCJjaXR5TmFtZUVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9