(()=>{"use strict";var e={318:(e,t,n)=>{e.exports=n.p+"e802a9f70d731d2fd2f4.png"},833:(e,t,n)=>{e.exports=n.p+"cdbce7e3996f9609219f.png"},752:(e,t,n)=>{e.exports=n.p+"18dc023e509e4727794e.png"},982:(e,t,n)=>{e.exports=n.p+"956d99d7047f2c061bf0.png"},989:(e,t,n)=>{e.exports=n.p+"9ce18f766ecb176097b8.png"},549:(e,t,n)=>{e.exports=n.p+"cc81a50e8e6604dfe000.png"},539:(e,t,n)=>{e.exports=n.p+"d69fd8c352955f7d7ea3.png"},158:(e,t,n)=>{e.exports=n.p+"d69fd8c352955f7d7ea3.png"},518:(e,t,n)=>{e.exports=n.p+"651e07809f6d252af7c4.png"},677:(e,t,n)=>{e.exports=n.p+"651e07809f6d252af7c4.png"},402:(e,t,n)=>{e.exports=n.p+"4f8d3bcc2812c7b5d9c9.png"},688:(e,t,n)=>{e.exports=n.p+"4f8d3bcc2812c7b5d9c9.png"},68:(e,t,n)=>{e.exports=n.p+"9500f729939001d86d11.png"},840:(e,t,n)=>{e.exports=n.p+"9500f729939001d86d11.png"},755:(e,t,n)=>{e.exports=n.p+"939dc1c78a3e515af5bc.png"},219:(e,t,n)=>{e.exports=n.p+"939dc1c78a3e515af5bc.png"},747:(e,t,n)=>{e.exports=n.p+"66cd0f5e79266310836a.png"},666:(e,t,n)=>{e.exports=n.p+"66cd0f5e79266310836a.png"},491:(e,t,n)=>{e.exports=n.p+"d35abc149a7493c01157.png"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e=async(e,t)=>{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),a=await n.json(),o=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${a.coord.lat}&lon=${a.coord.lon}&units=${t}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`);return{dataSet1:a,dataSet2:await o.json()}};async function t(t,n="metric"){try{const a=await async function(t,n){const a=document.querySelector(".loader");try{return a.textContent="Loading ...",a.classList.toggle("visible"),await Promise.race([e(t,n),(o=5e3,new Promise((e=>{setTimeout((()=>{e("Timeout")}),o)})))]).then((e=>(a.classList.toggle("visible"),e)))}catch(e){return a.textContent="City not found!",void setTimeout((()=>{a.classList.toggle("visible"),a.textContent="Loading ..."}),2e3)}var o}(t,n);if(!a)return;let o=new Date((new Date).toLocaleString("en-US",{timeZone:a.timezone}));const r=Math.floor(a.dataSet1.main.temp),c=Math.floor(a.dataSet1.main.feels_like),i=Math.floor(a.dataSet1.wind.speed),d=a.dataSet1.name,s=a.dataSet1.sys.country,l=a.dataSet1.weather[0].main,u=a.dataSet1.weather[0].icon,p=a.dataSet1.weather[0].description,m=a.dataSet1.main.humidity;let y=[];for(let e=1;e<8;e++){const t=a.dataSet2.daily[e],n={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};y.push(n)}return{cityName:d,countryName:s,time:o,temperature:r,weather:l,weatherDesc:p,icon:u,feelsLike:c,humidity:m,windSpeed:i,scale:n,dailyForecast:y}}catch(e){return}}var a=n(318),o=n(833),r=n(752),c=n(982),i=n(989),d=n(549),s=n(539),l=n(158),u=n(518),p=n(677),m=n(402),y=n(688),f=n(68),h=n(840),g=n(755),x=n(219),S=n(747),w=n(666),C=n(491);function q(e){const t=document.querySelector("body"),n=document.querySelector(".weather-info"),q=document.querySelector(".weather-icon"),v=document.querySelector(".city-name"),L=document.querySelector(".date"),$=document.querySelector(".temperature-value"),M=document.querySelector(".temperature-icon"),T=document.querySelector(".feels-like-icon"),k=document.querySelector(".feels-like-value"),F=document.querySelector(".humidity-icon"),j=document.querySelector(".humidity-value"),D=document.querySelector(".wind-speed-icon"),E=document.querySelector(".wind-speed-value"),N=document.querySelector(".change-scale-desc"),H=document.querySelector("input#search"),P=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let B,O={"01d":a,"01n":o,"02d":r,"02n":c,"03d":i,"03n":d,"04d":s,"04n":l,"09d":u,"09n":p,"10d":m,"10n":y,"11d":f,"11n":h,"13d":g,"13n":x,"50d":S,"50n":w,unknown:C};Object.entries(O).forEach((t=>{t[0]==e.icon&&(B=t[1])})),console.log(B),q.innerHTML=`<img src="${B}"></img>`,n.textContent=e.weather,v.textContent=e.cityName+", "+e.countryName,$.textContent=e.temperature,M.textContent="metric"===e.scale?"ºC":"ºF",L.textContent=P[e.time.getDay()]+", "+e.time.getDate()+" - "+("0"+e.time.getHours()).slice(-2)+":"+("0"+e.time.getMinutes()).slice(-2),T.classList.add("fa-solid"),T.classList.add("fa-temperature-high"),k.textContent=e.feelsLike+" "+M.textContent,F.classList.add("fa-solid"),F.classList.add("fa-droplet"),j.textContent=e.humidity+" %",D.classList.add("fa-solid"),D.classList.add("fa-wind"),H.value="",t.style.backgroundColor="blue",E.textContent=e.windSpeed+" "+("metric"===e.scale?"meter/sec":"miles/hour"),N.textContent="Change to "+("metric"===e.scale?"imperial":"metric");for(let t=0;t<e.dailyForecast.length;t++){const n=document.querySelector(`.day${t+1}`),a=document.querySelector(`.day${t+1} > .weekday`),o=document.querySelector(`.day${t+1} > .max-temp`),r=document.querySelector(`.day${t+1} > .min-temp`),c=document.querySelector(`.day${t+1} > .weather-day`),i=document.querySelector(`.day${t+1} > .icon`);let d;Object.entries(O).forEach((t=>{console.log(typeof t[0]),console.log(e.icon),t[0]==e.icon&&(d=t[1])})),i.innerHTML=`<img src="${d}"></img>`,console.log(i),c.textContent=e.dailyForecast[t].weather,o.textContent=Math.floor(e.dailyForecast[t].temperatureMax)+" "+M.textContent,r.textContent=Math.floor(e.dailyForecast[t].temperatureMin)+" "+M.textContent,a.innerHTML=b(e.time.getDay(),t,P),n.appendChild(a),n.appendChild(o),n.appendChild(r),n.appendChild(c),n.appendChild(i)}}const b=(e,t,n)=>{let a=e+t;return a>6&&(a-=7),n[a]};!async function(){const e=document.querySelector(".fa-magnifying-glass"),n=document.querySelector("input#search"),a=document.querySelector(".change-scale"),o=document.querySelector(".temperature-icon"),r=document.querySelector(".city-name");e.addEventListener("click",(async()=>{try{q(await t(n.value))}catch(e){}})),a.addEventListener("click",(async()=>{if(o&&r)try{const e="ºC"===o.textContent?"imperial":"metric";q(await t(r.textContent,e))}catch(e){}}))}(),async function(){q(await t("Barcelona"))}()})()})();