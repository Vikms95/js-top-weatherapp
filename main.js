(()=>{"use strict";async function e(e,t="metric"){try{const{data:a,data2:n}=await async function(e,t){try{const a=document.querySelector(".loader");a.classList.toggle("visible");const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=76d5136cd55d14c88e4d9549d0f550f2`),o=await n.json(),c=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${o.coord.lat}&lon=${o.coord.lon}&units=${t}&exclude=minutely,alerts&appid=76d5136cd55d14c88e4d9549d0f550f2`),r=await c.json();return a.classList.toggle("visible"),{data:o,data2:r}}catch(e){return void console.log("City not found!")}}(e,t);console.log(n);const o=a.name,c=Math.floor(a.main.temp),r=a.weather[0].main,i=a.weather[0].icon,d=a.weather[0].description,l=Math.floor(a.main.feels_like),s=a.main.humidity,u=Math.floor(a.wind.speed);let m=[];for(let e=1;e<8;e++){const t=n.daily[e],a={temperatureMax:t.temp.max,temperatureMin:t.temp.min,weather:t.weather[0].main,icon:t.weather[0].icon};m.push(a)}return console.log(m),{cityName:o,temperature:c,weather:r,icon:i,weatherDesc:d,feelsLike:l,humidity:s,windSpeed:u,scale:t,dailyForecast:m}}catch(e){return void console.log("Not found")}}function t(e){console.log(e);const t=document.querySelector(".weather-info"),a=document.querySelector(".weather-icon"),n=document.querySelector(".city-name"),o=document.querySelector(".temperature-value"),c=document.querySelector(".temperature-icon"),r=document.querySelector(".feels-like-icon"),i=document.querySelector(".feels-like-value"),d=document.querySelector(".humidity-icon"),l=document.querySelector(".humidity-value"),s=document.querySelector(".wind-speed-icon"),u=document.querySelector(".wind-speed-value"),m=document.querySelector(".change-scale-desc");t.textContent=e.weather,a.innerHTML=`<img src="../icons/${e.icon}.png"></img>`,n.textContent=e.cityName,o.textContent=e.temperature,c.textContent="metric"===e.scale?"ºC":"ºF",r.classList.add("fa-solid"),r.classList.add("fa-temperature-high"),i.textContent=e.feelsLike+" "+c.textContent,d.classList.add("fa-solid"),d.classList.add("fa-droplet"),l.textContent=e.humidity+" %",s.classList.add("fa-solid"),s.classList.add("fa-wind"),u.textContent=e.windSpeed+" "+("metric"===e.scale?"meter/sec":"miles/hour"),m.textContent="Change to "+("metric"===e.scale?"imperial":"metric");for(let t=0;t<e.dailyForecast.length;t++){const a=document.querySelector(`.day${t+1}`),n=document.querySelector(`.day${t+1} > .max-temp`),o=document.querySelector(`.day${t+1} > .min-temp`),r=document.querySelector(`.day${t+1} > .weather-day`),i=document.querySelector(`.day${t+1} > .icon`);n.textContent=Math.floor(e.dailyForecast[t].temperatureMax)+" "+c.textContent,o.textContent=Math.floor(e.dailyForecast[t].temperatureMin)+" "+c.textContent,r.textContent=e.dailyForecast[t].weather,i.innerHTML=`<img src="../icons/${e.dailyForecast[t].icon}.png"></img>`,a.appendChild(n),a.appendChild(o),a.appendChild(r),a.appendChild(i)}}const a=document.querySelector(".fa-magnifying-glass"),n=document.querySelector("input#search"),o=document.querySelector(".change-scale"),c=document.querySelector(".temperature-icon"),r=document.querySelector(".city-name");!async function(){a.addEventListener("click",(async()=>{try{console.log(n.value),t(await e(n.value))}catch(e){}})),o.addEventListener("click",(async()=>{if(c&&r){const a="ºC"===c.textContent?"imperial":"metric";t(await e(r.textContent,a))}}))}(),async function(){t(await e("Barcelona"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxjQUFjLHFCQUNwQ2tFLEVBQWFuRSxTQUFTQyxjQUFjLGVBRW5DUixpQkFDSHVFLEVBQWFJLGlCQUFpQixTQUFTM0UsVUFDbkMsSUFDSW1CLFFBQVFDLElBQUlvRCxFQUFZSSxPQUV4QjNCLFFBRDZCaEQsRUFBWXVFLEVBQVlJLFFBRXhELE1BQU0xRCxRQUlYdUQsRUFBa0JFLGlCQUFpQixTQUFTM0UsVUFDeEMsR0FBR3VELEdBQWNtQixFQUFXLENBQ3hCLE1BQU12RSxFQUFtQyxPQUEzQm9ELEVBQVdRLFlBQXVCLFdBQWEsU0FFN0RkLFFBRDRCaEQsRUFBWXlFLEVBQVdYLFlBQWE1RCxRQ3BCNUUwRSxHQUVBLGlCQUVJNUIsUUFEZ0JoRCxFQUFZLGNBRGhDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy10b3Atd2VhdGhlcmFwcC8uL3NyYy9sb2dpYy9wcm9jZXNzRGF0YS5qcyIsIndlYnBhY2s6Ly9qcy10b3Atd2VhdGhlcmFwcC8uL3NyYy9sb2dpYy9mZXRjaFdlYXRoZXJBUEkuanMiLCJ3ZWJwYWNrOi8vanMtdG9wLXdlYXRoZXJhcHAvLi9zcmMvdmlldy9yZW5kZXJTdGF0aWNFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9qcy10b3Atd2VhdGhlcmFwcC8uL3NyYy9sb2dpYy9hZGRFdmVudExpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly9qcy10b3Atd2VhdGhlcmFwcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXJTdGF0aWNFbGVtZW50cyB9IGZyb20gJy4uL3ZpZXcvcmVuZGVyU3RhdGljRWxlbWVudHMnXHJcbmltcG9ydCB7IGZldGNoV2VhdGhlckFQSSB9IGZyb20gJy4vZmV0Y2hXZWF0aGVyQVBJJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NEYXRhKGNpdHksc2NhbGUgPSAnbWV0cmljJyl7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge2RhdGEsZGF0YTJ9ID0gYXdhaXQgZmV0Y2hXZWF0aGVyQVBJKGNpdHksIHNjYWxlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEyKVxyXG4gICAgICAgIGNvbnN0IGNpdHlOYW1lID0gZGF0YS5uYW1lXHJcbiAgICAgICAgY29uc3QgdGVtcGVyYXR1cmUgPSBNYXRoLmZsb29yKGRhdGEubWFpbi50ZW1wKVxyXG4gICAgICAgIGNvbnN0IHdlYXRoZXIgPSBkYXRhLndlYXRoZXJbMF0ubWFpblxyXG4gICAgICAgIGNvbnN0IGljb24gPSBkYXRhLndlYXRoZXJbMF0uaWNvblxyXG4gICAgICAgIGNvbnN0IHdlYXRoZXJEZXNjID0gZGF0YS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgY29uc3QgZmVlbHNMaWtlID0gTWF0aC5mbG9vcihkYXRhLm1haW4uZmVlbHNfbGlrZSlcclxuICAgICAgICBjb25zdCBodW1pZGl0eSA9IGRhdGEubWFpbi5odW1pZGl0eVxyXG4gICAgICAgIGNvbnN0IHdpbmRTcGVlZCA9IE1hdGguZmxvb3IoZGF0YS53aW5kLnNwZWVkKVxyXG5cclxuICAgICAgICBsZXQgZGFpbHlGb3JlY2FzdCA9IFtdXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgOCA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBkYXkgPSBkYXRhMi5kYWlseVtpXVxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZU1heCA6IGRheS50ZW1wLm1heCxcclxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlTWluIDogZGF5LnRlbXAubWluLFxyXG4gICAgICAgICAgICAgICAgd2VhdGhlciA6IGRheS53ZWF0aGVyWzBdLm1haW4sXHJcbiAgICAgICAgICAgICAgICBpY29uIDogZGF5LndlYXRoZXJbMF0uaWNvblxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBkYWlseUZvcmVjYXN0LnB1c2godmFsdWVzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhkYWlseUZvcmVjYXN0KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICBjaXR5TmFtZSxcclxuICAgICAgICAgICAgdGVtcGVyYXR1cmUsXHJcbiAgICAgICAgICAgIHdlYXRoZXIsXHJcbiAgICAgICAgICAgIGljb24sXHJcbiAgICAgICAgICAgIHdlYXRoZXJEZXNjLFxyXG4gICAgICAgICAgICBmZWVsc0xpa2UsXHJcbiAgICAgICAgICAgIGh1bWlkaXR5LFxyXG4gICAgICAgICAgICB3aW5kU3BlZWQsXHJcbiAgICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgICBkYWlseUZvcmVjYXN0XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnTm90IGZvdW5kJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFdlYXRoZXJBUEkgKGNpdHksc2NhbGUpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIC8vVE9ETyBSZWZhY3RvciB3aXRoIFByb21pc2UuYWxsXHJcbiAgICAgICAgY29uc3QgbG9hZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyJylcclxuICAgICAgICBsb2FkZXJFbC5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtjaXR5fSZ1bml0cz0ke3NjYWxlfSZhcHBpZD03NmQ1MTM2Y2Q1NWQxNGM4OGU0ZDk1NDlkMGY1NTBmMmApXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9JHtkYXRhLmNvb3JkLmxhdH0mbG9uPSR7ZGF0YS5jb29yZC5sb259JnVuaXRzPSR7c2NhbGV9JmV4Y2x1ZGU9bWludXRlbHksYWxlcnRzJmFwcGlkPTc2ZDUxMzZjZDU1ZDE0Yzg4ZTRkOTU0OWQwZjU1MGYyYClcclxuICAgICAgICBjb25zdCBkYXRhMiA9IGF3YWl0IHJlc3BvbnNlMi5qc29uKClcclxuICAgICAgICBsb2FkZXJFbC5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgZGF0YTJcclxuICAgICAgICB9XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2l0eSBub3QgZm91bmQhJylcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxufSIsIi8vIFRha2VzIHByb2Nlc3NEYXRhIGFzIGFyZ3VtZW50XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdGF0aWNFbGVtZW50cyhkYXRhVG9EaXNwbGF5KXtcclxuICAgIGNvbnNvbGUubG9nKGRhdGFUb0Rpc3BsYXkpXHJcbiAgICBjb25zdCB3ZWF0aGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pbmZvJylcclxuICAgIGNvbnN0IHdlYXRoZXJJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1pY29uJylcclxuICAgIGNvbnN0IGNpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5LW5hbWUnKVxyXG4gICAgY29uc3QgdGVtcGVyYXR1cmVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS12YWx1ZScpXHJcbiAgICBjb25zdCB0ZW1wSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWljb24nKVxyXG4gICAgY29uc3QgZmVlbHNMaWtlSWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlZWxzLWxpa2UtaWNvbicpXHJcbiAgICBjb25zdCBmZWVsc0xpa2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWVscy1saWtlLXZhbHVlJylcclxuICAgIGNvbnN0IGh1bWlkaXR5SWNvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5LWljb24nKVxyXG4gICAgY29uc3QgaHVtaWRpdHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eS12YWx1ZScpXHJcbiAgICBjb25zdCB3aW5kU3BlZWRJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZC1zcGVlZC1pY29uJylcclxuICAgIGNvbnN0IHdpbmRTcGVlZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQtc3BlZWQtdmFsdWUnKVxyXG4gICAgY29uc3Qgc2NhbGVUb0NoYW5nZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYW5nZS1zY2FsZS1kZXNjJylcclxuICAgIC8vIEltcGxlbWVudCBmb3JlY2FzdCBhcHBlbmRpbmcgd2l0aCBmb3IgbG9vcD9cclxuICAgIFxyXG4gICAgd2VhdGhlckVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS53ZWF0aGVyXHJcbiAgICB3ZWF0aGVySWNvbkVsLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIi4uL2ljb25zLyR7ZGF0YVRvRGlzcGxheS5pY29ufS5wbmdcIj48L2ltZz5gXHJcbiAgICBjaXR5RWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmNpdHlOYW1lXHJcbiAgICB0ZW1wZXJhdHVyZUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS50ZW1wZXJhdHVyZVxyXG4gICAgdGVtcEljb25FbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuc2NhbGUgPT09ICdtZXRyaWMnID8gJ8K6QycgOiAnwrpGJ1xyXG5cclxuICAgIGZlZWxzTGlrZUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgZmVlbHNMaWtlSWNvbkVsLmNsYXNzTGlzdC5hZGQoJ2ZhLXRlbXBlcmF0dXJlLWhpZ2gnKSBcclxuICAgIGZlZWxzTGlrZUVsLnRleHRDb250ZW50ID0gZGF0YVRvRGlzcGxheS5mZWVsc0xpa2UgKyAnICcgKyB0ZW1wSWNvbkVsLnRleHRDb250ZW50XHJcbiAgICBodW1pZGl0eUljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpIFxyXG4gICAgaHVtaWRpdHlJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtZHJvcGxldCcpIFxyXG4gICAgaHVtaWRpdHlFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkuaHVtaWRpdHkgKyAnICUnXHJcbiAgICB3aW5kU3BlZWRJY29uRWwuY2xhc3NMaXN0LmFkZCgnZmEtc29saWQnKSBcclxuICAgIHdpbmRTcGVlZEljb25FbC5jbGFzc0xpc3QuYWRkKCdmYS13aW5kJykgXHJcbiAgICB3aW5kU3BlZWRFbC50ZXh0Q29udGVudCA9IGRhdGFUb0Rpc3BsYXkud2luZFNwZWVkICsgJyAnICsgKGRhdGFUb0Rpc3BsYXkuc2NhbGUgPT09ICdtZXRyaWMnID8gJ21ldGVyL3NlYycgOiAnbWlsZXMvaG91cicpXHJcbiAgICBzY2FsZVRvQ2hhbmdlRWwudGV4dENvbnRlbnQgPSAnQ2hhbmdlIHRvICcgKyAoZGF0YVRvRGlzcGxheS5zY2FsZSA9PT0gJ21ldHJpYycgPyAnaW1wZXJpYWwnIDogJ21ldHJpYycpXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX1gKVxyXG4gICAgICAgIC8vVE9ETyBJbXBsZW1lbnQgd2Vla2RheVxyXG4gICAgICAgIC8vIGNvbnN0IHdlZWtkYXkgPSAnJ1xyXG4gICAgICAgIGNvbnN0IG1heFRlbXBFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5kYXkke2kgKyAxfSA+IC5tYXgtdGVtcGApXHJcbiAgICAgICAgY29uc3QgbWluVGVtcEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRheSR7aSArIDF9ID4gLm1pbi10ZW1wYClcclxuICAgICAgICBjb25zdCB3ZWF0aGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX0gPiAud2VhdGhlci1kYXlgKVxyXG4gICAgICAgIGNvbnN0IHdlYXRoZXJJY29uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZGF5JHtpICsgMX0gPiAuaWNvbmApXHJcblxyXG4gICAgICAgIG1heFRlbXBFbC50ZXh0Q29udGVudCA9IE1hdGguZmxvb3IoZGF0YVRvRGlzcGxheS5kYWlseUZvcmVjYXN0W2ldLnRlbXBlcmF0dXJlTWF4KSArICcgJyArIHRlbXBJY29uRWwudGV4dENvbnRlbnRcclxuICAgICAgICBtaW5UZW1wRWwudGV4dENvbnRlbnQgPSBNYXRoLmZsb29yKGRhdGFUb0Rpc3BsYXkuZGFpbHlGb3JlY2FzdFtpXS50ZW1wZXJhdHVyZU1pbikgKyAnICcrIHRlbXBJY29uRWwudGV4dENvbnRlbnRcclxuICAgICAgICB3ZWF0aGVyRWwudGV4dENvbnRlbnQgPSBkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3RbaV0ud2VhdGhlclxyXG4gICAgICAgIHdlYXRoZXJJY29uRWwuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiLi4vaWNvbnMvJHtkYXRhVG9EaXNwbGF5LmRhaWx5Rm9yZWNhc3RbaV0uaWNvbn0ucG5nXCI+PC9pbWc+YFxyXG5cclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobWF4VGVtcEVsKVxyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChtaW5UZW1wRWwpXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHdlYXRoZXJFbClcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQod2VhdGhlckljb25FbClcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCB7IHByb2Nlc3NEYXRhIH0gZnJvbSAnLi9wcm9jZXNzRGF0YSdcclxuaW1wb3J0IHsgcmVuZGVyU3RhdGljRWxlbWVudHMgfSBmcm9tICcuLi92aWV3L3JlbmRlclN0YXRpY0VsZW1lbnRzJ1xyXG5cclxuXHJcbmNvbnN0IHNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1tYWduaWZ5aW5nLWdsYXNzJylcclxuLy8gRml4ZWQgdG8gYSBjaXR5IGZvciB0ZXN0aW5nXHJcbmNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQjc2VhcmNoJylcclxuY29uc3QgY2hhbmdlU2NhbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhbmdlLXNjYWxlJylcclxuY29uc3QgdGVtcEljb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS1pY29uJylcclxuY29uc3QgY2l0eU5hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5LW5hbWUnKVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PntcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlYXJjaElucHV0LnZhbHVlKVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhVG9EaXNwbGF5ID0gIGF3YWl0IHByb2Nlc3NEYXRhKHNlYXJjaElucHV0LnZhbHVlKVxyXG4gICAgICAgICAgICByZW5kZXJTdGF0aWNFbGVtZW50cyhkYXRhVG9EaXNwbGF5KVxyXG4gICAgICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY2hhbmdlU2NhbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PntcclxuICAgICAgICBpZih0ZW1wSWNvbkVsICYmIGNpdHlOYW1lRWwpe1xyXG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRlbXBJY29uRWwudGV4dENvbnRlbnQgPT09ICfCukMnID8gJ2ltcGVyaWFsJyA6ICdtZXRyaWMnXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFUb0Rpc3BsYXkgPSBhd2FpdCBwcm9jZXNzRGF0YShjaXR5TmFtZUVsLnRleHRDb250ZW50LCBzY2FsZSlcclxuICAgICAgICAgICAgcmVuZGVyU3RhdGljRWxlbWVudHMoZGF0YVRvRGlzcGxheSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSIsImltcG9ydCB7cHJvY2Vzc0RhdGF9IGZyb20gJy4vbG9naWMvcHJvY2Vzc0RhdGEnXHJcbmltcG9ydCB7cmVuZGVyU3RhdGljRWxlbWVudHN9IGZyb20gJy4vdmlldy9yZW5kZXJTdGF0aWNFbGVtZW50cydcclxuaW1wb3J0IHsgYWRkRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICcuL2xvZ2ljL2FkZEV2ZW50TGlzdGVuZXJzJ1xyXG5cclxuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbihhc3luYyBmdW5jdGlvbigpe1xyXG4gICAgY29uc3QgYSA9IGF3YWl0IHByb2Nlc3NEYXRhKCdCYXJjZWxvbmEnKVxyXG4gICAgcmVuZGVyU3RhdGljRWxlbWVudHMoYSlcclxufSkoKSJdLCJuYW1lcyI6WyJhc3luYyIsInByb2Nlc3NEYXRhIiwiY2l0eSIsInNjYWxlIiwiZGF0YSIsImRhdGEyIiwibG9hZGVyRWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsInJlc3BvbnNlMiIsImNvb3JkIiwibGF0IiwibG9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZldGNoV2VhdGhlckFQSSIsImNpdHlOYW1lIiwibmFtZSIsInRlbXBlcmF0dXJlIiwiTWF0aCIsImZsb29yIiwibWFpbiIsInRlbXAiLCJ3ZWF0aGVyIiwiaWNvbiIsIndlYXRoZXJEZXNjIiwiZGVzY3JpcHRpb24iLCJmZWVsc0xpa2UiLCJmZWVsc19saWtlIiwiaHVtaWRpdHkiLCJ3aW5kU3BlZWQiLCJ3aW5kIiwic3BlZWQiLCJkYWlseUZvcmVjYXN0IiwiaSIsImRheSIsImRhaWx5IiwidmFsdWVzIiwidGVtcGVyYXR1cmVNYXgiLCJtYXgiLCJ0ZW1wZXJhdHVyZU1pbiIsIm1pbiIsInB1c2giLCJyZW5kZXJTdGF0aWNFbGVtZW50cyIsImRhdGFUb0Rpc3BsYXkiLCJ3ZWF0aGVyRWwiLCJ3ZWF0aGVySWNvbkVsIiwiY2l0eUVsIiwidGVtcGVyYXR1cmVFbCIsInRlbXBJY29uRWwiLCJmZWVsc0xpa2VJY29uRWwiLCJmZWVsc0xpa2VFbCIsImh1bWlkaXR5SWNvbkVsIiwiaHVtaWRpdHlFbCIsIndpbmRTcGVlZEljb25FbCIsIndpbmRTcGVlZEVsIiwic2NhbGVUb0NoYW5nZUVsIiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJhZGQiLCJsZW5ndGgiLCJkaXYiLCJtYXhUZW1wRWwiLCJtaW5UZW1wRWwiLCJhcHBlbmRDaGlsZCIsInNlYXJjaEJ1dHRvbiIsInNlYXJjaElucHV0IiwiY2hhbmdlU2NhbGVCdXR0b24iLCJjaXR5TmFtZUVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9